{"remainingRequest":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\src\\components\\article\\ArticleList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\src\\components\\article\\ArticleList.vue","mtime":1679714642945},{"path":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\babel.config.js","mtime":1678865839779},{"path":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1678865247956},{"path":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\36Vue20230330(new)\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1678865248335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBiIGZyb20gIkAvY29uZmlnL2h0dHAuY29uZmlnIjsKaW1wb3J0IHN0b3JlIGZyb20gInN0b3JlIjsKbGV0IHsKICBUT0tFTl9OQU1FCn0gPSBiOwppbXBvcnQgcXMgZnJvbSAicXMiOwovLyBpbXBvcnQgdnVlc2Nyb2xsIGZyb20gInZ1ZXNjcm9sbCI7CmltcG9ydCBBcnRpY2xlIGZyb20gIkAvY29tcG9uZW50cy9hcnRpY2xlL0FydGljbGUiOwovLyBpbXBvcnQgXyBmcm9tICJsb2Rhc2giOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFydGljbGVMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBBcnRpY2xlCiAgICAvLyB2dWVzY3JvbGwsCiAgfSwKCiAgaW5qZWN0OiBbInNldExvYWRpbmciXSwKICBjb21wdXRlZDogewogICAgaXNFeGlzdCgpIHsKICAgICAgdmFyIF90aGlzJGFydGljbGVzOwogICAgICByZXR1cm4gKChfdGhpcyRhcnRpY2xlcyA9IHRoaXMuYXJ0aWNsZXMpID09PSBudWxsIHx8IF90aGlzJGFydGljbGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhcnRpY2xlcy5sZW5ndGgpID4gMDsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsb2FkaW5nKG5ld1ZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgIGNvbnNvbGUubG9nKCLojrflvpfmlrBhcnRpY2xlcyIpOwogICAgICAgIHRoaXMuZ2V0QXJ0aWNsZXMoKTsKICAgICAgfQogICAgfSwKICAgICRyb3V0ZSh0bykgewogICAgICBjb25zb2xlLmxvZyh0bywgInRvdG90b3RvIik7CiAgICAgIGlmICh0by5uYW1lID09PSAiYXJ0aWNsZXMiKSB7CiAgICAgICAgY29uc29sZS5sb2coIm5ldyAiKTsKICAgICAgICB0aGlzLmNsZWFyRGF0YSgpOwogICAgICAgIHRoaXMuZ2V0QXJ0aWNsZXMoKTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFydGljbGVzOiBbXSwKICAgICAgc2l6ZTogMywKICAgICAgcGFnZTogMSwKICAgICAgc2VhcmNoOiB1bmRlZmluZWQKICAgICAgLy8gc2Nyb2xsVG9wOiAwLAogICAgICAvLyBvcHM6IHsKICAgICAgLy8gICB2dWVzY3JvbGw6IHt9LAogICAgICAvLyAgIHNjcm9sbFBhbmVsOiB7fSwKICAgICAgLy8gICByYWlsOiB7CiAgICAgIC8vICAgICBiYWNrZ3JvdW5kOiAiIzAxYTk5YSIsCiAgICAgIC8vICAgICBvcGFjaXR5OiAwLAogICAgICAvLyAgICAgc2l6ZTogIjZweCIsCiAgICAgIC8vICAgICBzcGVjaWZ5Qm9yZGVyUmFkaXVzOiBmYWxzZSwKICAgICAgLy8gICAgIGd1dHRlck9mRW5kczogbnVsbCwKICAgICAgLy8gICAgIGd1dHRlck9mU2lkZTogIjJweCIsCiAgICAgIC8vICAgICBrZWVwU2hvdzogZmFsc2UsCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBiYXI6IHsKICAgICAgLy8gICAgIHNob3dEZWxheTogNTAwLAogICAgICAvLyAgICAgb25seVNob3dCYXJPblNjcm9sbDogdHJ1ZSwKICAgICAgLy8gICAgIGtlZXBTaG93OiBmYWxzZSwKICAgICAgLy8gICAgIGJhY2tncm91bmQ6ICJjeWFuIiwKICAgICAgLy8gICAgIG9wYWNpdHk6IDEsCiAgICAgIC8vICAgICBob3ZlclN0eWxlOiBmYWxzZSwKICAgICAgLy8gICAgIHNwZWNpZnlCb3JkZXJSYWRpdXM6IGZhbHNlLAogICAgICAvLyAgICAgbWluU2l6ZTogMCwKICAgICAgLy8gICAgIHNpemU6ICI2cHgiLAogICAgICAvLyAgICAgZGlzYWJsZTogZmFsc2UsCiAgICAgIC8vICAgfSwKICAgICAgLy8gfSwKICAgIH07CiAgfSwKCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIC8vIGxldCBjbGFzc2lmeUlkID0gdGhpcy5pc0NsYXNzaWZ5KCkKICAgIC8vIGNvbnNvbGUubG9nKGNsYXNzaWZ5SWQsImNsYXNzSWQiKTsKICAgIHRoaXMuZ2V0QXJ0aWNsZXMoKTsKICAgIC8vIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRodHRwKHt0eXBlOiAiYXJ0aWNsZXMiLGRhdGE6IHsKICAgIC8vICAgICBxdWVyeTogcXMuc3RyaW5naWZ5KHtxdWVyeTp7Y2xhc3NpZnk6IGNsYXNzSWR9fSkKICAgIC8vICAgfX0pCiAgICAvLyAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLmRhdGEubGlzdCwicmVzdWx0IHh4eHh4Iik7CiAgICAvLyBjb25zb2xlLmxvZyhhd2FpdCB0aGlzLiRodHRwKHt0eXBlOiAiY2xhc3NpZnkifSkpOwogICAgLy8gdGhpcy5nZXRGaXJzdEFydGljbGVzKCkKICAgIC8vIHRyeSB7CiAgICAvLyAgIHRoaXMuc2V0TG9hZGluZygpOwogICAgLy8gICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kaHR0cCh7CiAgICAvLyAgICAgdHlwZTogImFydGljbGVzIiwKICAgIC8vICAgICBkYXRhOiB7IHNpemU6IHRoaXMuc2l6ZSwgcGFnZTogMSB9LAogICAgLy8gICB9KTsKICAgIC8vICAgY29uc29sZS5sb2cocmVzdWx0LCAicmVzdWx0Iik7CiAgICAvLyAgIHJlc3VsdCA9IHJlc3VsdC5kYXRhLmRhdGEubGlzdC5tYXAoKGl0ZW0pID0+IHsKICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmNvbnRlbnQubWF0Y2goLz4oW148Pl0rKTwvKSwibWF0Y2hlZCIpOwogICAgLy8gICAgIGl0ZW0uY29udGVudCA9IGl0ZW0uY29udGVudC5tYXRjaCgvPihbXjw+XSspPC8pPy5bMV07CiAgICAvLyAgICAgcmV0dXJuIGl0ZW07CiAgICAvLyAgIH0pOwogICAgLy8gICB0aGlzLnBhZ2UrKzsKICAgIC8vICAgY29uc29sZS5sb2cocmVzdWx0LCAiY3JlYXRlZCIpOwogICAgLy8gICB0aGlzLmFydGljbGVzID0gcmVzdWx0OwogICAgLy8gfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgLy8gfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCJnZXRTZWFyY2hBcnRpY2xlIiwgdGhpcy5nZXRTZWFyY2hBcnRpY2xlKTsKICAgIGlmIChzdG9yZS5nZXQoVE9LRU5fTkFNRSkpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdHlwZTogImluZGV4IgogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LCAicmVzdWx0MjIyIik7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFVzZXIiLCB7CiAgICAgICAgICAuLi5yZXN1bHQuZGF0YS5kYXRhLAogICAgICAgICAgYXJ0aWNsZU51bTogcmVzdWx0LmFydGljbGVOdW0sCiAgICAgICAgICBjbGFzc2lmeU51bTogcmVzdWx0LmNsYXNzaWZ5TnVtCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kYnVzLiRvZmYoImdldFNlYXJjaEFydGljbGUiLCB0aGlzLmdldFNlYXJjaEFydGljbGUpOwogIH0sCiAgLy8gYWN0aXZhdGVkKCkgewogIC8vICAgdGhpcy5nZXRGaXJzdEFydGljbGVzKCkKICAvLyB9LAogIG1ldGhvZHM6IHsKICAgIGdldFNlYXJjaEFydGljbGUodmFsdWUpIHsKICAgICAgY29uc29sZS5sb2codmFsdWUsICLojrflvpfmkJzntKLlgLwiKTsKICAgICAgdGhpcy5jbGVhckRhdGEoKTsKICAgICAgdGhpcy5zZWFyY2ggPSB2YWx1ZTsKICAgICAgdGhpcy5nZXRBcnRpY2xlcyh2YWx1ZSk7CiAgICB9LAogICAgYWRkQXJ0aWNsZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJFZGl0IiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgY2xhc3NpZnlJZDogdGhpcy4kcm91dGUucXVlcnkuY2xhc3NpZnlJZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJEYXRhKCkgewogICAgICB0aGlzLmFydGljbGVzID0gW107CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgIHRoaXMuc2VhcmNoID0gdW5kZWZpbmVkOwogICAgfSwKICAgIGlzQ2xhc3NpZnkoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeVsiY2xhc3NpZnlJZCJdOwogICAgfSwKICAgIC8vIGFzeW5jIGdldEZpcnN0QXJ0aWNsZXMoKSB7CiAgICAvLyAgIHRyeSB7CiAgICAvLyAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJGh0dHAoewogICAgLy8gICAgICAgdHlwZTogImFydGljbGVzIiwKICAgIC8vICAgICAgIGRhdGE6IHsgc2l6ZTogdGhpcy5zaXplLCBwYWdlOiAxIH0sCiAgICAvLyAgICAgfSk7CiAgICAvLyAgICAgY29uc29sZS5sb2cocmVzdWx0LCAicmVzdWx0Iik7CiAgICAvLyAgICAgcmVzdWx0ID0gcmVzdWx0LmRhdGEuZGF0YS5saXN0Lm1hcCgoaXRlbSkgPT4gewogICAgLy8gICAgICAgaXRlbS5jb250ZW50ID0gaXRlbS5jb250ZW50Lm1hdGNoKC8+KFtePD5dKyk8Lyk/LlsxXTsKICAgIC8vICAgICAgIHJldHVybiBpdGVtOwogICAgLy8gICAgIH0pOwogICAgLy8gICAgIHRoaXMucGFnZSsrOwogICAgLy8gICAgIGNvbnNvbGUubG9nKHJlc3VsdCwgImNyZWF0ZWQiKTsKICAgIC8vICAgICB0aGlzLmFydGljbGVzID0gcmVzdWx0OwogICAgLy8gICB9IGNhdGNoIChlcnJvcikgewogICAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIC8vICAgfQogICAgLy8gfSwKICAgIGFzeW5jIGdldEFydGljbGVzKCkgewogICAgICB0cnkgewogICAgICAgIGxldCBjbGFzc2lmeUlkID0gdGhpcy5pc0NsYXNzaWZ5KCk7CiAgICAgICAgLy8gY29uc29sZS5sb2coc2VhcmNoVmFsdWUsICJ2YWx1ZSIpOwogICAgICAgIC8vIHF1ZXJ5OiBxcy5zdHJpbmdpZnkoe3F1ZXJ5OntjbGFzc2lmeTogY2xhc3NJZH19CiAgICAgICAgbGV0IHJlc3VsdCA9IGNsYXNzaWZ5SWQgPyBhd2FpdCB0aGlzLiRodHRwKHsKICAgICAgICAgIHR5cGU6ICJhcnRpY2xlcyIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSwKICAgICAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgICAgICBxdWVyeTogcXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgY2xhc3NpZnk6IGNsYXNzaWZ5SWQsCiAgICAgICAgICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pIDogYXdhaXQgdGhpcy4kaHR0cCh7CiAgICAgICAgICB0eXBlOiAiYXJ0aWNsZXMiLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBzaXplOiB0aGlzLnNpemUsCiAgICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZSwKICAgICAgICAgICAgcXVlcnk6IHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2gKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmVzdWx0LmRhdGEuZGF0YS5saXN0ID0gcmVzdWx0LmRhdGEuZGF0YS5saXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgIHZhciBfaXRlbSRjb250ZW50JG1hdGNoOwogICAgICAgICAgaXRlbS5jb250ZW50ID0gKF9pdGVtJGNvbnRlbnQkbWF0Y2ggPSBpdGVtLmNvbnRlbnQubWF0Y2goLz4oW148Pl0rKTwvKSkgPT09IG51bGwgfHwgX2l0ZW0kY29udGVudCRtYXRjaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kY29udGVudCRtYXRjaFsxXTsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuYXJ0aWNsZXMucHVzaCguLi5yZXN1bHQuZGF0YS5kYXRhLmxpc3QpOwogICAgICAgIHRoaXMucGFnZSsrOwogICAgICAgIGlmICh0aGlzLmFydGljbGVzLmxlbmd0aCA+PSByZXN1bHQuZGF0YS5kYXRhLnRvdGFsKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi57uI5q2i5omn6KGMIiwgcmVzdWx0LmRhdGEuZGF0YS50b3RhbCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuc2V0TG9hZGluZygpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfQogIH0KICAvLyBtZXRob2RzOiB7CiAgLy8gaGFuZGxlU2Nyb2xsOiBfLnRocm90dGxlKGFzeW5jIGZ1bmN0aW9uICgKICAvLyAgIHZlcnRpY2FsLAogIC8vICAgaG9yaXpvbnRhbCwKICAvLyAgIG5hdGl2ZUV2ZW50CiAgLy8gKSB7CiAgLy8gICBpZiAodGhpcy5sb2FkaW5nKSB7CiAgLy8gICAgIHJldHVybjsKICAvLyAgIH0KICAvLyAgIGxldCBzaCA9IHZlcnRpY2FsLnNjcm9sbFRvcDsKICAvLyAgIGxldCB2aCA9IG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQuY2xpZW50SGVpZ2h0OwogIC8vICAgbGV0IGFsbEggPSBuYXRpdmVFdmVudC5zcmNFbGVtZW50LnNjcm9sbEhlaWdodDsKICAvLyAgIHRoaXMuc2Nyb2xsVG9wID0gc2g7CiAgLy8gICBpZiAodmggKyBzaCArIDIwMCA+IGFsbEgpIHsKICAvLyAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAvLyAgICAgY29uc29sZS5sb2coIuWKoOi9vWluZyIpOwogIC8vICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy4kaHR0cCh7CiAgLy8gICAgICAgdHlwZTogImFydGljbGVzIiwKICAvLyAgICAgICBkYXRhOiB7IHNpemU6IHRoaXMuc2l6ZSwgcGFnZTogdGhpcy5wYWdlIH0sCiAgLy8gICAgIH0pOwogIC8vICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YS5kYXRhLCAic2Nyb2xsaW5nIGRhdGEiKTsKICAvLyAgICAgdGhpcy5hcnRpY2xlcy5wdXNoKC4uLnJlc3VsdC5kYXRhLmRhdGEubGlzdCk7CiAgLy8gICAgIHRoaXMucGFnZSsrOwogIC8vICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAvLyAgICAgaWYgKHRoaXMuYXJ0aWNsZXMubGVuZ3RoID49IHJlc3VsdC5kYXRhLmRhdGEudG90YWwpIHsKICAvLyAgICAgICBjb25zb2xlLmxvZygi57uI5q2i5omn6KGMIik7CiAgLy8gICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAvLyAgICAgfQogIC8vICAgfQogIC8vIH0sCiAgLy8gNTAwKSwKICAvLyB9LAogIC8vIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlZVRV9BUFBfVEVTVF9IT1NULCAi546v5aKD5Y+Y6YePMSIpOwogIC8vIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52Ll9URVNUX05BTUUsICLnjq/looPlj5jph48yIik7CiAgLy8gY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1AsICLnjq/looPlj5jph48zIik7CiAgLy8gY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuVlVFX0FQUF9GSUxFX1VQTE9BRF9QQVRILCAi546v5aKD5Y+Y6YePNCIpOwogIC8vIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52LlZVRV9BUFBfVEVTVF9IT1NULCJwcm9kdWN0aW9uIik7CiAgLy8gdGhpcy4kcmVmc1sic2Nyb2xsIl0uc2Nyb2xsVG8oCiAgLy8gICB7CiAgLy8gICAgIHk6IHRoaXMudG9wLAogIC8vICAgfSwKICAvLyAgIDAKICAvLyApOwp9Ow=="},{"version":3,"names":["b","store","TOKEN_NAME","qs","Article","name","components","inject","computed","isExist","_this$articles","articles","length","props","loading","type","Boolean","watch","newValue","console","log","getArticles","$route","to","clearData","data","size","page","search","undefined","created","mounted","$bus","$on","getSearchArticle","get","$http","then","result","$store","dispatch","articleNum","classifyNum","catch","err","beforeDestroy","$off","methods","value","addArticle","$router","push","query","classifyId","isClassify","stringify","classify","list","map","item","_item$content$match","content","match","total","setLoading","error"],"sources":["src/components/article/ArticleList.vue"],"sourcesContent":["<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: sueRimn\r\n * @Date: 2023-03-18 16:05:10\r\n * @LastEditors: sueRimn\r\n * @LastEditTime: 2023-03-25 11:23:19\r\n-->\r\n<template>\r\n  <div class=\"blog-scroll--wrap\">\r\n    <!-- <vuescroll :ops=\"ops\" @handle-scroll=\"handleScroll\" ref=\"scroll\"> -->\r\n    <el-card class=\"box-card\" v-if=\"isExist\">\r\n      <Article v-for=\"(item, idx) in articles\" :key=\"idx\" :item=\"item\" />\r\n    </el-card>\r\n    <el-card v-else>\r\n      <div class=\"blog-classify-lost\">\r\n        <div class=\"blog-classify-wrap\">\r\n          <p>该分类还没有文章捏</p>\r\n          <p class=\"touch\">\r\n            <a href=\"javascript:;\" class=\"touch\" @click=\"addArticle\"\r\n              >点我去添加</a\r\n            >\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n    <!-- </vuescroll> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport b from \"@/config/http.config\";\r\nimport store from \"store\";\r\nlet { TOKEN_NAME } = b;\r\nimport qs from \"qs\";\r\n// import vuescroll from \"vuescroll\";\r\nimport Article from \"@/components/article/Article\";\r\n// import _ from \"lodash\";\r\nexport default {\r\n  name: \"ArticleList\",\r\n  components: {\r\n    Article,\r\n    // vuescroll,\r\n  },\r\n  inject: [\"setLoading\"],\r\n  computed: {\r\n    isExist() {\r\n      return this.articles?.length > 0;\r\n    },\r\n  },\r\n  props: {\r\n    loading: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n  watch: {\r\n    loading(newValue) {\r\n      if (newValue) {\r\n        console.log(\"获得新articles\");\r\n        this.getArticles();\r\n      }\r\n    },\r\n    $route(to) {\r\n      console.log(to, \"totototo\");\r\n      if (to.name === \"articles\") {\r\n        console.log(\"new \");\r\n        this.clearData();\r\n        this.getArticles();\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      articles: [],\r\n      size: 3,\r\n      page: 1,\r\n      search: undefined,\r\n      // scrollTop: 0,\r\n      // ops: {\r\n      //   vuescroll: {},\r\n      //   scrollPanel: {},\r\n      //   rail: {\r\n      //     background: \"#01a99a\",\r\n      //     opacity: 0,\r\n      //     size: \"6px\",\r\n      //     specifyBorderRadius: false,\r\n      //     gutterOfEnds: null,\r\n      //     gutterOfSide: \"2px\",\r\n      //     keepShow: false,\r\n      //   },\r\n      //   bar: {\r\n      //     showDelay: 500,\r\n      //     onlyShowBarOnScroll: true,\r\n      //     keepShow: false,\r\n      //     background: \"cyan\",\r\n      //     opacity: 1,\r\n      //     hoverStyle: false,\r\n      //     specifyBorderRadius: false,\r\n      //     minSize: 0,\r\n      //     size: \"6px\",\r\n      //     disable: false,\r\n      //   },\r\n      // },\r\n    };\r\n  },\r\n  async created() {\r\n    // let classifyId = this.isClassify()\r\n    // console.log(classifyId,\"classId\");\r\n    this.getArticles();\r\n    // let result = await this.$http({type: \"articles\",data: {\r\n    //     query: qs.stringify({query:{classify: classId}})\r\n    //   }})\r\n    //   console.log(result.data.data.list,\"result xxxxx\");\r\n    // console.log(await this.$http({type: \"classify\"}));\r\n    // this.getFirstArticles()\r\n    // try {\r\n    //   this.setLoading();\r\n    //   let result = await this.$http({\r\n    //     type: \"articles\",\r\n    //     data: { size: this.size, page: 1 },\r\n    //   });\r\n    //   console.log(result, \"result\");\r\n    //   result = result.data.data.list.map((item) => {\r\n    //     // console.log(item.content.match(/>([^<>]+)</),\"matched\");\r\n    //     item.content = item.content.match(/>([^<>]+)</)?.[1];\r\n    //     return item;\r\n    //   });\r\n    //   this.page++;\r\n    //   console.log(result, \"created\");\r\n    //   this.articles = result;\r\n    // } catch (error) {\r\n    //   console.log(error);\r\n    // }\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"getSearchArticle\", this.getSearchArticle);\r\n    if (store.get(TOKEN_NAME)) {\r\n      this.$http({ type: \"index\" })\r\n        .then((result) => {\r\n          console.log(result, \"result222\");\r\n          this.$store.dispatch(\"setUser\", {\r\n            ...result.data.data,\r\n            articleNum: result.articleNum,\r\n            classifyNum: result.classifyNum,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off(\"getSearchArticle\", this.getSearchArticle);\r\n  },\r\n  // activated() {\r\n  //   this.getFirstArticles()\r\n  // },\r\n  methods: {\r\n    getSearchArticle(value) {\r\n      console.log(value, \"获得搜索值\");\r\n      this.clearData();\r\n      this.search = value;\r\n      this.getArticles(value);\r\n    },\r\n    addArticle() {\r\n      this.$router.push({\r\n        name: \"Edit\",\r\n        query: {\r\n          classifyId: this.$route.query.classifyId,\r\n        },\r\n      });\r\n    },\r\n    clearData() {\r\n      this.articles = [];\r\n      this.page = 1;\r\n      this.search = undefined;\r\n    },\r\n    isClassify() {\r\n      return this.$route.query[\"classifyId\"];\r\n    },\r\n    // async getFirstArticles() {\r\n    //   try {\r\n    //     let result = await this.$http({\r\n    //       type: \"articles\",\r\n    //       data: { size: this.size, page: 1 },\r\n    //     });\r\n    //     console.log(result, \"result\");\r\n    //     result = result.data.data.list.map((item) => {\r\n    //       item.content = item.content.match(/>([^<>]+)</)?.[1];\r\n    //       return item;\r\n    //     });\r\n    //     this.page++;\r\n    //     console.log(result, \"created\");\r\n    //     this.articles = result;\r\n    //   } catch (error) {\r\n    //     console.log(error);\r\n    //   }\r\n    // },\r\n    async getArticles() {\r\n      try {\r\n        let classifyId = this.isClassify();\r\n        // console.log(searchValue, \"value\");\r\n        // query: qs.stringify({query:{classify: classId}}\r\n        let result = classifyId\r\n          ? await this.$http({\r\n              type: \"articles\",\r\n              data: {\r\n                size: this.size,\r\n                page: this.page,\r\n                query: qs.stringify({\r\n                  query: { classify: classifyId, search: this.search },\r\n                }),\r\n              },\r\n            })\r\n          : await this.$http({\r\n              type: \"articles\",\r\n              data: {\r\n                size: this.size,\r\n                page: this.page,\r\n                query: qs.stringify({\r\n                  query: { search: this.search },\r\n                }),\r\n              },\r\n            });\r\n        result.data.data.list = result.data.data.list.map((item) => {\r\n          item.content = item.content.match(/>([^<>]+)</)?.[1];\r\n          return item;\r\n        });\r\n        this.articles.push(...result.data.data.list);\r\n        this.page++;\r\n        if (this.articles.length >= result.data.data.total) {\r\n          console.log(\"终止执行\", result.data.data.total);\r\n          return;\r\n        }\r\n        this.setLoading();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  },\r\n  // methods: {\r\n  // handleScroll: _.throttle(async function (\r\n  //   vertical,\r\n  //   horizontal,\r\n  //   nativeEvent\r\n  // ) {\r\n  //   if (this.loading) {\r\n  //     return;\r\n  //   }\r\n  //   let sh = vertical.scrollTop;\r\n  //   let vh = nativeEvent.srcElement.clientHeight;\r\n  //   let allH = nativeEvent.srcElement.scrollHeight;\r\n  //   this.scrollTop = sh;\r\n  //   if (vh + sh + 200 > allH) {\r\n  //     this.loading = true;\r\n  //     console.log(\"加载ing\");\r\n  //     let result = await this.$http({\r\n  //       type: \"articles\",\r\n  //       data: { size: this.size, page: this.page },\r\n  //     });\r\n  //     console.log(result.data.data, \"scrolling data\");\r\n  //     this.articles.push(...result.data.data.list);\r\n  //     this.page++;\r\n  //     this.loading = false;\r\n  //     if (this.articles.length >= result.data.data.total) {\r\n  //       console.log(\"终止执行\");\r\n  //       this.loading = true;\r\n  //     }\r\n  //   }\r\n  // },\r\n  // 500),\r\n  // },\r\n  // console.log(process.env.VUE_APP_TEST_HOST, \"环境变量1\");\r\n  // console.log(process.env._TEST_NAME, \"环境变量2\");\r\n  // console.log(process.env.VUE_APP_BASE_P, \"环境变量3\");\r\n  // console.log(process.env.VUE_APP_FILE_UPLOAD_PATH, \"环境变量4\");\r\n  // console.log(process.env.VUE_APP_TEST_HOST,\"production\");\r\n  // this.$refs[\"scroll\"].scrollTo(\r\n  //   {\r\n  //     y: this.top,\r\n  //   },\r\n  //   0\r\n  // );\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\nbody .blog-page .blog-scroll--wrap {\r\n  height: 60vh;\r\n  // background-color: #9a9a9a;\r\n}\r\n\r\n.blog-classify-wrap {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  width: 400px;\r\n  margin: auto;\r\n\r\n  & p {\r\n    margin: 20px;\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n.blog-classify-lost {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 40vh;\r\n  background-color: #fff;\r\n}\r\n\r\n.blog-classify-lost p {\r\n  width: 66%;\r\n  padding: 10px;\r\n  color: #444;\r\n  font-size: 12px;\r\n  border: 1px solid skyblue;\r\n  border-radius: 10px 10px;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":";AA+BA,OAAAA,CAAA;AACA,OAAAC,KAAA;AACA;EAAAC;AAAA,IAAAF,CAAA;AACA,OAAAG,EAAA;AACA;AACA,OAAAC,OAAA;AACA;AACA;EACAC,IAAA;EACAC,UAAA;IACAF;IACA;EACA;;EACAG,MAAA;EACAC,QAAA;IACAC,QAAA;MAAA,IAAAC,cAAA;MACA,SAAAA,cAAA,QAAAC,QAAA,cAAAD,cAAA,uBAAAA,cAAA,CAAAE,MAAA;IACA;EACA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC;IACA;EACA;EACAC,KAAA;IACAH,QAAAI,QAAA;MACA,IAAAA,QAAA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAC,WAAA;MACA;IACA;IACAC,OAAAC,EAAA;MACAJ,OAAA,CAAAC,GAAA,CAAAG,EAAA;MACA,IAAAA,EAAA,CAAAlB,IAAA;QACAc,OAAA,CAAAC,GAAA;QACA,KAAAI,SAAA;QACA,KAAAH,WAAA;MACA;IACA;EACA;EACAI,KAAA;IACA;MACAd,QAAA;MACAe,IAAA;MACAC,IAAA;MACAC,MAAA,EAAAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;;EACA,MAAAC,QAAA;IACA;IACA;IACA,KAAAT,WAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;;EACAU,QAAA;IACA,KAAAC,IAAA,CAAAC,GAAA,0BAAAC,gBAAA;IACA,IAAAjC,KAAA,CAAAkC,GAAA,CAAAjC,UAAA;MACA,KAAAkC,KAAA;QAAArB,IAAA;MAAA,GACAsB,IAAA,CAAAC,MAAA;QACAnB,OAAA,CAAAC,GAAA,CAAAkB,MAAA;QACA,KAAAC,MAAA,CAAAC,QAAA;UACA,GAAAF,MAAA,CAAAb,IAAA,CAAAA,IAAA;UACAgB,UAAA,EAAAH,MAAA,CAAAG,UAAA;UACAC,WAAA,EAAAJ,MAAA,CAAAI;QACA;MACA,GACAC,KAAA,CAAAC,GAAA;QACAzB,OAAA,CAAAC,GAAA,CAAAwB,GAAA;MACA;IACA;EACA;EACAC,cAAA;IACA,KAAAb,IAAA,CAAAc,IAAA,0BAAAZ,gBAAA;EACA;EACA;EACA;EACA;EACAa,OAAA;IACAb,iBAAAc,KAAA;MACA7B,OAAA,CAAAC,GAAA,CAAA4B,KAAA;MACA,KAAAxB,SAAA;MACA,KAAAI,MAAA,GAAAoB,KAAA;MACA,KAAA3B,WAAA,CAAA2B,KAAA;IACA;IACAC,WAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACA9C,IAAA;QACA+C,KAAA;UACAC,UAAA,OAAA/B,MAAA,CAAA8B,KAAA,CAAAC;QACA;MACA;IACA;IACA7B,UAAA;MACA,KAAAb,QAAA;MACA,KAAAgB,IAAA;MACA,KAAAC,MAAA,GAAAC,SAAA;IACA;IACAyB,WAAA;MACA,YAAAhC,MAAA,CAAA8B,KAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,MAAA/B,YAAA;MACA;QACA,IAAAgC,UAAA,QAAAC,UAAA;QACA;QACA;QACA,IAAAhB,MAAA,GAAAe,UAAA,GACA,WAAAjB,KAAA;UACArB,IAAA;UACAU,IAAA;YACAC,IAAA,OAAAA,IAAA;YACAC,IAAA,OAAAA,IAAA;YACAyB,KAAA,EAAAjD,EAAA,CAAAoD,SAAA;cACAH,KAAA;gBAAAI,QAAA,EAAAH,UAAA;gBAAAzB,MAAA,OAAAA;cAAA;YACA;UACA;QACA,KACA,WAAAQ,KAAA;UACArB,IAAA;UACAU,IAAA;YACAC,IAAA,OAAAA,IAAA;YACAC,IAAA,OAAAA,IAAA;YACAyB,KAAA,EAAAjD,EAAA,CAAAoD,SAAA;cACAH,KAAA;gBAAAxB,MAAA,OAAAA;cAAA;YACA;UACA;QACA;QACAU,MAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAgC,IAAA,GAAAnB,MAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAgC,IAAA,CAAAC,GAAA,CAAAC,IAAA;UAAA,IAAAC,mBAAA;UACAD,IAAA,CAAAE,OAAA,IAAAD,mBAAA,GAAAD,IAAA,CAAAE,OAAA,CAAAC,KAAA,4BAAAF,mBAAA,uBAAAA,mBAAA;UACA,OAAAD,IAAA;QACA;QACA,KAAAhD,QAAA,CAAAwC,IAAA,IAAAb,MAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAgC,IAAA;QACA,KAAA9B,IAAA;QACA,SAAAhB,QAAA,CAAAC,MAAA,IAAA0B,MAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAsC,KAAA;UACA5C,OAAA,CAAAC,GAAA,SAAAkB,MAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAsC,KAAA;UACA;QACA;QACA,KAAAC,UAAA;MACA,SAAAC,KAAA;QACA9C,OAAA,CAAAC,GAAA,CAAA6C,KAAA;MACA;IACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA"}]}