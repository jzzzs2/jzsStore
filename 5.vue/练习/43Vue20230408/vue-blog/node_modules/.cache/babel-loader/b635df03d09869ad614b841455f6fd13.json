{"remainingRequest":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\src\\components\\article\\ArticleEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\src\\components\\article\\ArticleEdit.vue","mtime":1679400648973},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\babel.config.js","mtime":1678865839779},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1678865247956},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1678865248335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB3YW5nRWRpdG9yIGZyb20gIndhbmdlZGl0b3IiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgY29udGVudDogIiIsCiAgICAgIGVkaXRvcjogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBlZGl0b3IgPSBuZXcgd2FuZ0VkaXRvcigiI2NvbnRlbnQiKTsKICAgIGVkaXRvci5jb25maWcub25jaGFuZ2UgPSBuZXdIdG1sID0+IHsKICAgICAgdGhpcy5jb250ZW50ID0gbmV3SHRtbDsKICAgIH07CiAgICBlZGl0b3IuY3JlYXRlKCk7CiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICAvLyDosIPnlKjplIDmr4EgQVBJIOWvueW9k+WJjee8lui+keWZqOWunuS+i+i/m+ihjOmUgOavgQogICAgdGhpcy5lZGl0b3IuZGVzdHJveSgpOwogICAgdGhpcy5lZGl0b3IgPSBudWxsOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMudGl0bGUgPSAiIjsKICAgICAgdGhpcy5lZGl0b3IudHh0LmNsZWFyKCk7CiAgICB9LAogICAgYXN5bmMgc3VibWl0QXJ0aWNsZSgpIHsKICAgICAgbGV0IHJlc3VsdCA9IHRoaXMudmFsaWRhdGVJbnB1dCgpOwogICAgICBpZiAoIXJlc3VsdCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1aWQiKSwgIuWPkeivt+axgiBVSUQiKTsKICAgICAgICBhd2FpdCB0aGlzLiRodHRwKHsKICAgICAgICAgIHR5cGU6ICJhcnRpY2xlQWRkIiwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LAogICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICAgICAgYXV0aG9yOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidWlkIikKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfJwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlSW5wdXQoKSB7CiAgICAgIGlmICghdGhpcy50aXRsZSkgewogICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICBtZXNzYWdlOiAn5qCH6aKY5LiN6IO95Li656m6JwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHJlZnNbInRpdGxlIl0uZm9jdXMoKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmNvbnRlbnQpIHsKICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgbWVzc2FnZTogJ+WGheWuueS4jeiDveS4uuepuicKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["wangEditor","data","title","content","editor","mounted","config","onchange","newHtml","create","beforeDestroy","destroy","methods","reset","txt","clear","submitArticle","result","validateInput","console","log","localStorage","getItem","$http","type","author","$notify","success","message","$router","push","error","$refs","focus"],"sources":["src/components/article/ArticleEdit.vue"],"sourcesContent":["<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: sueRimn\r\n * @Date: 2023-03-21 16:57:29\r\n * @LastEditors: sueRimn\r\n * @LastEditTime: 2023-03-21 20:10:48\r\n-->\r\n<template>\r\n  <el-card>\r\n    <div class=\"blog-article-edit\">\r\n      <div class=\"block\">\r\n        <span class=\"demonstration\">标题</span>\r\n        <el-input v-model=\"title\" placeholder=\"标题\" ref=\"title\"></el-input>\r\n      </div>\r\n      <div class=\"block\">\r\n        <span class=\"demonstration\">内容</span>\r\n        <div id=\"content\"></div>\r\n      </div>\r\n      <div class=\"blog-article-edit--btn\">\r\n        <el-button type=\"primary\" @click=\"submitArticle\">提交</el-button>\r\n        <el-button type=\"info\" @click=\"reset\">清空</el-button>\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport wangEditor from \"wangeditor\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      content: \"\",\r\n      editor: null,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    const editor = new wangEditor(\"#content\");\r\n    editor.config.onchange = (newHtml) => {\r\n      this.content = newHtml;\r\n    };\r\n    editor.create();\r\n    this.editor = editor;\r\n  },\r\n  beforeDestroy() {\r\n    // 调用销毁 API 对当前编辑器实例进行销毁\r\n    this.editor.destroy();\r\n    this.editor = null;\r\n  },\r\n  methods: {\r\n    reset() {\r\n      this.title = \"\"\r\n      this.editor.txt.clear()\r\n    },\r\n    async submitArticle () {\r\n      let result = this.validateInput()\r\n      if  (!result) {\r\n        return\r\n      }\r\n      try {\r\n        console.log(localStorage.getItem(\"uid\"),\"发请求 UID\");\r\n        await this.$http({type: \"articleAdd\",data: {content:this.content,title:this.title,author: localStorage.getItem(\"uid\")}})\r\n        this.$notify.success({\r\n          title: '成功',\r\n          message: '添加成功'\r\n        });\r\n        this.$router.push(\"/\")\r\n        return false\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    validateInput () {\r\n      if (!this.title) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: '标题不能为空'\r\n        });\r\n        this.$refs[\"title\"].focus()\r\n        return false\r\n      }\r\n      if (!this.content) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: '内容不能为空'\r\n        });\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.blog-article-edit {\r\n  padding: 10px;\r\n  background-color: #fff;\r\n}\r\n\r\n.block {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  margin-bottom: 20px;\r\n  margin-top: 10px;\r\n  text-align: left\r\n  & span {\r\n    width: 60px;\r\n    padding-right: 6px;\r\n  }\r\n}\r\n\r\n.blog-article-edit--btn {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 60%;\r\n  margin: 10px auto;\r\n\r\n  & button {\r\n    width: 50%;\r\n  }\r\n}\r\n</style>"],"mappings":";AA4BA,OAAAA,UAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,OAAA;MACAC,MAAA;IACA;EACA;EAEAC,QAAA;IACA,MAAAD,MAAA,OAAAJ,UAAA;IACAI,MAAA,CAAAE,MAAA,CAAAC,QAAA,GAAAC,OAAA;MACA,KAAAL,OAAA,GAAAK,OAAA;IACA;IACAJ,MAAA,CAAAK,MAAA;IACA,KAAAL,MAAA,GAAAA,MAAA;EACA;EACAM,cAAA;IACA;IACA,KAAAN,MAAA,CAAAO,OAAA;IACA,KAAAP,MAAA;EACA;EACAQ,OAAA;IACAC,MAAA;MACA,KAAAX,KAAA;MACA,KAAAE,MAAA,CAAAU,GAAA,CAAAC,KAAA;IACA;IACA,MAAAC,cAAA;MACA,IAAAC,MAAA,QAAAC,aAAA;MACA,KAAAD,MAAA;QACA;MACA;MACA;QACAE,OAAA,CAAAC,GAAA,CAAAC,YAAA,CAAAC,OAAA;QACA,WAAAC,KAAA;UAAAC,IAAA;UAAAvB,IAAA;YAAAE,OAAA,OAAAA,OAAA;YAAAD,KAAA,OAAAA,KAAA;YAAAuB,MAAA,EAAAJ,YAAA,CAAAC,OAAA;UAAA;QAAA;QACA,KAAAI,OAAA,CAAAC,OAAA;UACAzB,KAAA;UACA0B,OAAA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA,SAAAC,KAAA;QACAZ,OAAA,CAAAC,GAAA,CAAAW,KAAA;MACA;IACA;IACAb,cAAA;MACA,UAAAhB,KAAA;QACA,KAAAwB,OAAA,CAAAK,KAAA;UACA7B,KAAA;UACA0B,OAAA;QACA;QACA,KAAAI,KAAA,UAAAC,KAAA;QACA;MACA;MACA,UAAA9B,OAAA;QACA,KAAAuB,OAAA,CAAAK,KAAA;UACA7B,KAAA;UACA0B,OAAA;QACA;QACA;MACA;MACA;IACA;EACA;AACA"}]}