{"remainingRequest":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\babel-loader\\lib\\index.js!D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\src\\components\\article\\ArticleInfoBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\src\\components\\article\\ArticleInfoBar.vue","mtime":1680246228956},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1678865247956},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1678865248335},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\babel.config.js","mtime":1680247912852},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1678865247956},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\37Vue20230331\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1678865248335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gInN0b3JlIjsKaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsKbGV0IHsKICBtYXBHZXR0ZXJzLAogIG1hcEFjdGlvbnMKfSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJoaXRzIik7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gaXNMaWtlOiBmYWxzZSwKICAgICAgYWlkOiAiIiwKICAgICAgc3RlcDogMAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBhcnRpY2xlSW5mbzogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygi5riy5p+T5LqGIOaWh+eroOWGheeahOaYn+WPtyIpOwogICAgbGV0IGFpZCA9IHRoaXMuJHJvdXRlLnBhcmFtc1siaWQiXTsKICAgIGNvbnNvbGUubG9nKGFpZCwgIiRyb3V0ZSIpOwogICAgdGhpcy5haWQgPSBhaWQ7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmlzX2hpdHMoYWlkKSwiaWYxIik7CiAgICBjb25zb2xlLmxvZygiY3JlYXRlIGFydGljbGVJbmZvYmFyIiwgc3RvcmUuZ2V0KCJISVRTX0FSVElDTEVTIikpOwogICAgaWYgKHN0b3JlLmdldCgiSElUU19BUlRJQ0xFUyIpID09PSB1bmRlZmluZWQpIHsKICAgICAgY29uc29sZS5sb2coIuiuvue9ruaVsOe7hCIpOwogICAgICBzdG9yZS5zZXQoIkhJVFNfQVJUSUNMRVMiLCBbXSk7CiAgICB9CiAgICB0aGlzLnNldEFydGljbGVQb3NpdGlvbigpOwogICAgLy8gdGhpcy5pc0xpa2UgPSB0aGlzLmlzX2hpdHMoKShhaWQpCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGlzTGlrZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNfaGl0cygpKHRoaXMuYWlkKTsKICAgIH0sCiAgICBjcmVhdGV0aW1lKCkgewogICAgICB2YXIgX3RoaXMkYXJ0aWNsZUluZm87CiAgICAgIHJldHVybiAoKF90aGlzJGFydGljbGVJbmZvID0gdGhpcy5hcnRpY2xlSW5mbykgPT09IG51bGwgfHwgX3RoaXMkYXJ0aWNsZUluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFydGljbGVJbmZvLmNyZWF0ZXRpbWUpIHx8ICLpu5jorqTml7bpl7QiOwogICAgfSwKICAgIG5pY2tuYW1lKCkgewogICAgICB2YXIgX3RoaXMkYXJ0aWNsZUluZm8yLCBfdGhpcyRhcnRpY2xlSW5mbzIkYXU7CiAgICAgIHJldHVybiAoKF90aGlzJGFydGljbGVJbmZvMiA9IHRoaXMuYXJ0aWNsZUluZm8pID09PSBudWxsIHx8IF90aGlzJGFydGljbGVJbmZvMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJGFydGljbGVJbmZvMiRhdSA9IF90aGlzJGFydGljbGVJbmZvMi5hdXRob3IpID09PSBudWxsIHx8IF90aGlzJGFydGljbGVJbmZvMiRhdSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYXJ0aWNsZUluZm8yJGF1Lm5pY2tuYW1lKSB8fCAi6buY6K6k5pi156ewIjsKICAgIH0sCiAgICBjbGlja3NfbnVtKCkgewogICAgICB2YXIgX3RoaXMkYXJ0aWNsZUluZm8zOwogICAgICByZXR1cm4gKChfdGhpcyRhcnRpY2xlSW5mbzMgPSB0aGlzLmFydGljbGVJbmZvKSA9PT0gbnVsbCB8fCBfdGhpcyRhcnRpY2xlSW5mbzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFydGljbGVJbmZvMy5jbGlja3NfbnVtKSB8fCAwOwogICAgfSwKICAgIGNvbW1lbnRzX251bSgpIHsKICAgICAgdmFyIF90aGlzJGFydGljbGVJbmZvNDsKICAgICAgcmV0dXJuICgoX3RoaXMkYXJ0aWNsZUluZm80ID0gdGhpcy5hcnRpY2xlSW5mbykgPT09IG51bGwgfHwgX3RoaXMkYXJ0aWNsZUluZm80ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhcnRpY2xlSW5mbzQuY29tbWVudHNfbnVtKSB8fCAwOwogICAgfSwKICAgIGhpdHNfbnVtKCkgewogICAgICB2YXIgX3RoaXMkYXJ0aWNsZUluZm81OwogICAgICByZXR1cm4gKChfdGhpcyRhcnRpY2xlSW5mbzUgPSB0aGlzLmFydGljbGVJbmZvKSA9PT0gbnVsbCB8fCBfdGhpcyRhcnRpY2xlSW5mbzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGFydGljbGVJbmZvNS5oaXRzX251bSkgKyB0aGlzLnN0ZXAgfHwgMDsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygi57uR5a6aIik7CiAgICB0aGlzLiRidXMuJG9uKCJ1cCIsIHRoaXMudXApOwogICAgdGhpcy4kYnVzLiRvbigiZG93biIsIHRoaXMuZG93bik7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY29uc29sZS5sb2coIuino+e7kSIpOwogICAgdGhpcy4kYnVzLiRvZmYoInVwIiwgdGhpcy51cCk7CiAgICB0aGlzLiRidXMuJG9mZigiZG93biIsIHRoaXMuZG93bik7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cCgpIHsKICAgICAgY29uc29sZS5sb2coIuinpuWPkXVwIik7CiAgICAgIHRoaXMuc3RlcCArPSAxOwogICAgfSwKICAgIGRvd24oKSB7CiAgICAgIGNvbnNvbGUubG9nKCLop6blj5Fkb3duIik7CiAgICAgIHRoaXMuc3RlcCAtPSAxOwogICAgfSwKICAgIGFzeW5jIG9wZXJhdGVIaXRzKCkgewogICAgICBsZXQgYWlkID0gdGhpcy5haWQ7CiAgICAgIGxldCBqdWRnZSA9IG51bGw7CiAgICAgIGNvbnNvbGUubG9nKCJjbGljayIpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmlzTGlrZSwgInRoaXMubGlrZSIpOwogICAgICB0aGlzLmlzTGlrZSA/IHRoaXMuZG93bigpIDogdGhpcy51cCgpOwogICAgICBqdWRnZSA9ICF0aGlzLmlzTGlrZTsKICAgICAganVkZ2UgPyB0aGlzLnB1c2hBcnRpY2xlKHsKICAgICAgICBhaWQKICAgICAgfSkgOiB0aGlzLnB1bGxBcnRpY2xlKHsKICAgICAgICBhaWQKICAgICAgfSk7CiAgICAgIC8v5pON5L2c5pWw5o2u5bqTCiAgICAgIGxldCByZXN1bHQgPSBudWxsOwogICAgICBqdWRnZSA/IHJlc3VsdCA9IGF3YWl0IHRoaXMuJGh0dHAoewogICAgICAgIHR5cGU6ICJsaWtlT3BlcmF0ZSIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlzQWRkOiB0cnVlLAogICAgICAgICAgICBpZDogYWlkCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSA6IHJlc3VsdCA9IGF3YWl0IHRoaXMuJGh0dHAoewogICAgICAgIHR5cGU6ICJsaWtlT3BlcmF0ZSIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlzQWRkOiBmYWxzZSwKICAgICAgICAgICAgaWQ6IGFpZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCwgInh4eCIpOwogICAgfSwKICAgIC4uLm1hcEdldHRlcnMoWyJpc19oaXRzIl0pLAogICAgLi4ubWFwQWN0aW9ucyhbInB1c2hBcnRpY2xlIiwgInB1bGxBcnRpY2xlIiwgInNldEFydGljbGVQb3NpdGlvbiJdKQogIH0KfTs="},{"version":3,"names":["store","createNamespacedHelpers","mapGetters","mapActions","data","aid","step","props","articleInfo","type","Object","created","console","log","$route","params","get","undefined","set","setArticlePosition","computed","isLike","is_hits","createtime","_this$articleInfo","nickname","_this$articleInfo2","_this$articleInfo2$au","author","clicks_num","_this$articleInfo3","comments_num","_this$articleInfo4","hits_num","_this$articleInfo5","mounted","$bus","$on","up","down","beforeDestroy","$off","methods","operateHits","judge","pushArticle","pullArticle","result","$http","isAdd","id"],"sources":["src/components/article/ArticleInfoBar.vue"],"sourcesContent":["<!--\r\n * @Descripttion: \r\n * @version: \r\n * @Author: sueRimn\r\n * @Date: 2023-03-25 18:13:07\r\n * @LastEditors: sueRimn\r\n * @LastEditTime: 2023-03-31 15:03:19\r\n-->\r\n<template>\r\n  <div class=\"blog-descript-info\">\r\n    <p class=\"time\">\r\n      <i class=\"el-icon-time\"></i><span>{{ createtime }}</span>\r\n    </p>\r\n    <p><i class=\"el-icon-s-custom\"></i>{{ nickname }}</p>\r\n    <p class=\"visible-xs\"><i class=\"el-icon-view\"></i>{{ clicks_num }}</p>\r\n    <p class=\"visible-xs\">\r\n      <i class=\"el-icon-s-comment\"></i>{{ comments_num }}\r\n    </p>\r\n    <p class=\"visible-xs\" ><i class=\"el-icon-star-on touch\" @click=\"operateHits\" :class=\"{active: isLike}\"></i>{{ hits_num }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from \"store\"\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nlet { mapGetters,mapActions } = createNamespacedHelpers(\"hits\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      // isLike: false,\r\n      aid: \"\",\r\n      step: 0\r\n    };\r\n  },\r\n  \r\n  props: {\r\n    articleInfo: {\r\n      type: Object\r\n    }\r\n  },\r\n  created() {\r\n    console.log(\"渲染了 文章内的星号\");\r\n    let aid = this.$route.params[\"id\"]\r\n    console.log(aid,\"$route\");\r\n    this.aid = aid\r\n    // console.log(this.is_hits(aid),\"if1\");\r\n    console.log(\"create articleInfobar\",store.get(\"HITS_ARTICLES\"));\r\n    if (store.get(\"HITS_ARTICLES\") === undefined) {\r\n      console.log(\"设置数组\");\r\n      store.set(\"HITS_ARTICLES\",[])\r\n    }\r\n    this.setArticlePosition()\r\n    // this.isLike = this.is_hits()(aid)\r\n  },\r\n  computed: {\r\n\r\n    isLike() {\r\n      return this.is_hits()(this.aid)\r\n    },\r\n    createtime() {\r\n      return this.articleInfo?.createtime || \"默认时间\";\r\n    },\r\n    nickname() {\r\n      return this.articleInfo?.author?.nickname || \"默认昵称\";\r\n    },\r\n    clicks_num() {\r\n      return this.articleInfo?.clicks_num || 0;\r\n    },\r\n    comments_num() {\r\n      return this.articleInfo?.comments_num || 0;\r\n    },\r\n    hits_num() {\r\n      return this.articleInfo?.hits_num + this.step || 0;\r\n    },\r\n  },\r\n  mounted() {\r\n    console.log(\"绑定\");\r\n    this.$bus.$on(\"up\",this.up)\r\n    this.$bus.$on(\"down\",this.down)\r\n  },\r\n  beforeDestroy() {\r\n    console.log(\"解绑\");\r\n    this.$bus.$off(\"up\",this.up)\r\n    this.$bus.$off(\"down\",this.down)\r\n  },\r\n  \r\n  methods: {\r\n    up () {\r\n      console.log(\"触发up\");\r\n      this.step+=1\r\n    },\r\n    down () {\r\n      console.log(\"触发down\");\r\n      this.step-=1\r\n    },\r\n    async operateHits () {\r\n      let aid = this.aid\r\n      let judge = null\r\n      console.log(\"click\");\r\n      console.log(this.isLike,\"this.like\");\r\n      this.isLike?this.down():this.up()\r\n      judge = !this.isLike\r\n      judge ?\r\n      this.pushArticle({aid})\r\n      :\r\n      this.pullArticle({aid})\r\n      //操作数据库\r\n      let result = null;\r\n      judge ?\r\n      result = await this.$http({type: \"likeOperate\",data: {params:{isAdd: true,id: aid}}}) :\r\n      result = await this.$http({type: \"likeOperate\",data: {params:{isAdd: false,id: aid}}})\r\n      console.log(result,\"xxx\");\r\n    },\r\n    ...mapGetters([\"is_hits\"]),\r\n    ...mapActions([\"pushArticle\",\"pullArticle\",\"setArticlePosition\"])\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n  .touch\r\n    cursor: pointer\r\n  .active\r\n    color cyan\r\n    background-color #ccc\r\n    border-radius: 50%\r\n</style>"],"mappings":"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"}]}