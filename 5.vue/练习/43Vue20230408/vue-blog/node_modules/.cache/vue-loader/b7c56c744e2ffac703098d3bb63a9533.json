{"remainingRequest":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\src\\views\\Home.vue","mtime":1679402390994},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1678865247956},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\23Vue20230315\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1678865248335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgYiBmcm9tICJAL2NvbmZpZy9odHRwLmNvbmZpZyI7CmltcG9ydCBzdG9yZSBmcm9tICJzdG9yZSI7CmltcG9ydCBPcGVyYXRlQmFyIGZyb20gIkAvY29tcG9uZW50cy9hcnRpY2xlL09wZXJhdGVCYXIudnVlIjsKbGV0IHsgVE9LRU5fTkFNRSB9ID0gYjsKaW1wb3J0IE1vZGFsIGZyb20gIi4vTW9kYWwudnVlIjsKaW1wb3J0IEhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvaGVhZGVyL0hlYWRlci52dWUiOwppbXBvcnQgQXNpZGUgZnJvbSAiQC9jb21wb25lbnRzL2FzaWRlL0FzaWRlVXNlckluZm8iOwppbXBvcnQgXyBmcm9tICJsb2Rhc2giOwppbXBvcnQgdnVlc2Nyb2xsIGZyb20gInZ1ZXNjcm9sbCI7CmltcG9ydCByb3V0ZU1hcCBmcm9tICJAL2NvbmZpZy9yb3V0ZU9wZXJhdGVNYXAuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIHdhdGNoOiB7CiAgICAkcm91dGUodG8pIHsKICAgICAgaWYgKCFyb3V0ZU1hcFt0by5uYW1lXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLmxpc3QgPSByb3V0ZU1hcFt0by5uYW1lXTsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIHNjcm9sbFRvcDogMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG9wczogewogICAgICAgIHZ1ZXNjcm9sbDoge30sCiAgICAgICAgc2Nyb2xsUGFuZWw6IHt9LAogICAgICAgIHJhaWw6IHsKICAgICAgICAgIGJhY2tncm91bmQ6ICIjMDFhOTlhIiwKICAgICAgICAgIG9wYWNpdHk6IDAsCiAgICAgICAgICBzaXplOiAiNnB4IiwKICAgICAgICAgIHNwZWNpZnlCb3JkZXJSYWRpdXM6IGZhbHNlLAogICAgICAgICAgZ3V0dGVyT2ZFbmRzOiBudWxsLAogICAgICAgICAgZ3V0dGVyT2ZTaWRlOiAiMnB4IiwKICAgICAgICAgIGtlZXBTaG93OiBmYWxzZSwKICAgICAgICB9LAogICAgICAgIGJhcjogewogICAgICAgICAgc2hvd0RlbGF5OiA1MDAsCiAgICAgICAgICBvbmx5U2hvd0Jhck9uU2Nyb2xsOiB0cnVlLAogICAgICAgICAga2VlcFNob3c6IGZhbHNlLAogICAgICAgICAgYmFja2dyb3VuZDogImN5YW4iLAogICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgIGhvdmVyU3R5bGU6IGZhbHNlLAogICAgICAgICAgc3BlY2lmeUJvcmRlclJhZGl1czogZmFsc2UsCiAgICAgICAgICBtaW5TaXplOiAwLAogICAgICAgICAgc2l6ZTogIjZweCIsCiAgICAgICAgICBkaXNhYmxlOiBmYWxzZSwKICAgICAgICB9LAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldExvYWRpbmcoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZVNjcm9sbDogXy50aHJvdHRsZShhc3luYyBmdW5jdGlvbiAoCiAgICAgIHZlcnRpY2FsLAogICAgICBob3Jpem9udGFsLAogICAgICBuYXRpdmVFdmVudAogICAgKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IHNoID0gdmVydGljYWwuc2Nyb2xsVG9wOwogICAgICBsZXQgdmggPSBuYXRpdmVFdmVudC5zcmNFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgbGV0IGFsbEggPSBuYXRpdmVFdmVudC5zcmNFbGVtZW50LnNjcm9sbEhlaWdodDsKICAgICAgdGhpcy5zY3JvbGxUb3AgPSBzaDsKICAgICAgaWYgKHZoICsgc2ggKyAyMDAgPiBhbGxIKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBjb25zb2xlLmxvZygi5Yqg6L29aW5nIik7CiAgICAgIH0KICAgIH0sCiAgICA1MDApLAogIH0sCiAgcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNldExvYWRpbmc6IHRoaXMuc2V0TG9hZGluZywKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNVc2VyRXhpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbjsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHN0b3JlLmdldChUT0tFTl9OQU1FKSkgewogICAgICB0aGlzLiRodHRwKHsgdHlwZTogImluZGV4IiB9KQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRVc2VyIiwgcmVzdWx0LmRhdGEuZGF0YSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgIH0KICAgIC8vCiAgICBpZiAocm91dGVNYXBbdGhpcy4kcm91dGUubmFtZV0pIHsKICAgICAgdGhpcy5saXN0ID0gcm91dGVNYXBbdGhpcy4kcm91dGUubmFtZV0KICAgIH0KICAgIAogIH0sCiAgY29tcG9uZW50czogewogICAgTW9kYWwsCiAgICBIZWFkZXIsCiAgICBBc2lkZSwKICAgIHZ1ZXNjcm9sbCwKICAgIE9wZXJhdGVCYXIsCiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * @Descripttion: \n * @version: \n * @Author: sueRimn\n * @Date: 2023-03-15 15:37:19\n * @LastEditors: sueRimn\n * @LastEditTime: 2023-03-21 20:39:13\n-->\n<!--\n * @Descripttion: \n * @version: \n * @Author: sueRimn\n * @Date: 2023-03-15 15:37:19\n * @LastEditors: sueRimn\n * @LastEditTime: 2023-03-17 21:43:55\n-->\n<template>\n  <div class=\"blog-page\">\n    <el-container class=\"blog-wrap\">\n      <el-header height=\"10vh\" class=\"blog-header\">\n        <Header />\n      </el-header>\n      <el-container class=\"blog-content-wrap\">\n        <div class=\"limit\">\n          <el-row :gutter=\"6\">\n            <el-col :span=\"2\" class=\"hidden-xs-only\">\n              <!-- <transition-group appear enter-active-class=\"animate__animated animate__swing\" leave-active-class=\"animate__animated animate__backOutDown\" mode=\"out-in\" move-class=\"move\"> -->\n              <transition-group appear name=\"operate\" mode=\"out-in\">\n                <OperateBar v-for=\"(item) in list\" :key=\"item.icon\" :info=\"item\" />\n              </transition-group>\n            </el-col>\n            <el-col :span=\"22\" :md=\"{ span: 16 }\">\n              <el-main class=\"blog-content--main\">\n                <vuescroll\n                  :ops=\"ops\"\n                  @handle-scroll=\"handleScroll\"\n                  ref=\"scroll\"\n                >\n                  <keep-alive include=\"ArticleList\">\n                    <router-view\n                      :loading=\"loading\"\n                      :top=\"scrollTop\"\n                    ></router-view>\n                  </keep-alive>\n                </vuescroll>\n              </el-main>\n            </el-col>\n            <el-col :span=\"6\" class=\"hidden-md-and-down\">\n              <el-aside class=\"blog-content--aside\">\n                <Aside v-if=\"isUserExist\" />\n              </el-aside>\n            </el-col>\n          </el-row>\n        </div>\n      </el-container>\n      <el-footer height=\"10vh\" class=\"blog-footer\">底部</el-footer>\n    </el-container>\n    <Modal />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport b from \"@/config/http.config\";\nimport store from \"store\";\nimport OperateBar from \"@/components/article/OperateBar.vue\";\nlet { TOKEN_NAME } = b;\nimport Modal from \"./Modal.vue\";\nimport Header from \"@/components/header/Header.vue\";\nimport Aside from \"@/components/aside/AsideUserInfo\";\nimport _ from \"lodash\";\nimport vuescroll from \"vuescroll\";\nimport routeMap from \"@/config/routeOperateMap.js\";\nexport default {\n  name: \"Home\",\n  watch: {\n    $route(to) {\n      if (!routeMap[to.name]) {\n        return false;\n      }\n      this.list = routeMap[to.name];\n    },\n  },\n  data() {\n    return {\n      list: [],\n      scrollTop: 0,\n      loading: false,\n      ops: {\n        vuescroll: {},\n        scrollPanel: {},\n        rail: {\n          background: \"#01a99a\",\n          opacity: 0,\n          size: \"6px\",\n          specifyBorderRadius: false,\n          gutterOfEnds: null,\n          gutterOfSide: \"2px\",\n          keepShow: false,\n        },\n        bar: {\n          showDelay: 500,\n          onlyShowBarOnScroll: true,\n          keepShow: false,\n          background: \"cyan\",\n          opacity: 1,\n          hoverStyle: false,\n          specifyBorderRadius: false,\n          minSize: 0,\n          size: \"6px\",\n          disable: false,\n        },\n      },\n    };\n  },\n  methods: {\n    setLoading() {\n      this.loading = false;\n    },\n    handleScroll: _.throttle(async function (\n      vertical,\n      horizontal,\n      nativeEvent\n    ) {\n      if (this.loading) {\n        return;\n      }\n      let sh = vertical.scrollTop;\n      let vh = nativeEvent.srcElement.clientHeight;\n      let allH = nativeEvent.srcElement.scrollHeight;\n      this.scrollTop = sh;\n      if (vh + sh + 200 > allH) {\n        this.loading = true;\n        console.log(\"加载ing\");\n      }\n    },\n    500),\n  },\n  provide() {\n    return {\n      setLoading: this.setLoading,\n    };\n  },\n  computed: {\n    isUserExist() {\n      return this.$store.state.token;\n    },\n  },\n  mounted() {\n    if (store.get(TOKEN_NAME)) {\n      this.$http({ type: \"index\" })\n        .then((result) => {\n          this.$store.dispatch(\"setUser\", result.data.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    //\n    if (routeMap[this.$route.name]) {\n      this.list = routeMap[this.$route.name]\n    }\n    \n  },\n  components: {\n    Modal,\n    Header,\n    Aside,\n    vuescroll,\n    OperateBar,\n  },\n};\n</script>\n<style lang=\"stylus\">\n@import '~@/assets/css/variable.styl';\n.operate-enter\n  transform translateY(1100px)\n.operate-enter-active,\n.operate-leave-active\n  transition .5s\n.operate-leave-to\n  transform translateY(-200px)\n.blog-content-wrap {\n  height: 80vh;\n  width: 100%;\n  margin: 0 auto;\n  background-color: page-main-color;\n\n  & .el-row {\n    width: 100%;\n  }\n\n  & .limit {\n    width: 70%;\n    // min-width: 1400px;\n    margin: 0 auto;\n  }\n}\n\n.blog-content--main {\n  margin-top: 80px;\n  height: 60vh;\n}\n\n.blog-footer {\n  background-color: #222;\n}\n\n.blog-header {\n  background-color: #999;\n  padding: 0;\n}\n\n.blog-header--row {\n  height: 100%;\n  align-items: center;\n}\n\n.blog-page .blog-content-wrap .blog-content--aside {\n  margin: 100px auto;\n  width: 80% !important;\n}\n\n.el-main.blog-content--main {\n  overflow: hidden;\n}\n.move {\n  transition: .5s\n}\n</style>\n"]}]}