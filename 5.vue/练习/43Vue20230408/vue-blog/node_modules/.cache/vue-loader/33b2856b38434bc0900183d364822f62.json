{"remainingRequest":"D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\src\\views\\Home.vue","mtime":1681107476671},{"path":"D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1678865247956},{"path":"D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678865246950},{"path":"D:\\十字波\\五.vue框架\\练习\\43Vue20230408\\vue-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1678865248335}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlci9pbmRleCI7CmltcG9ydCB7IGlvIH0gZnJvbSAic29ja2V0LmlvLWNsaWVudCI7CmltcG9ydCBiIGZyb20gIkAvY29uZmlnL2h0dHAuY29uZmlnIjsKaW1wb3J0IHN0b3JlIGZyb20gInN0b3JlIjsKbGV0IHsgVE9LRU5fTkFNRSB9ID0gYjsKLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCi8vIGltcG9ydCBiIGZyb20gIkAvY29uZmlnL2h0dHAuY29uZmlnIjsKLy8gaW1wb3J0IHN0b3JlIGZyb20gInN0b3JlIjsKaW1wb3J0IE9wZXJhdGVCYXIgZnJvbSAiQC9jb21wb25lbnRzL2FydGljbGUvT3BlcmF0ZUJhci52dWUiOwovLyBsZXQgeyBUT0tFTl9OQU1FIH0gPSBiOwppbXBvcnQgTW9kYWwgZnJvbSAiLi9Nb2RhbC52dWUiOwppbXBvcnQgTGl2ZTJkIGZyb20gIi4vTGl2ZTJELnZ1ZSI7CmltcG9ydCBIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL2hlYWRlci9IZWFkZXIudnVlIjsKaW1wb3J0IEFzaWRlIGZyb20gIkAvY29tcG9uZW50cy9hc2lkZS9Bc2lkZVVzZXJJbmZvIjsKaW1wb3J0IHt0aHJvdHRsZX0gZnJvbSAibG9kYXNoIjsKaW1wb3J0IHZ1ZXNjcm9sbCBmcm9tICJ2dWVzY3JvbGwiOwppbXBvcnQgcm91dGVNYXAgZnJvbSAiQC9jb25maWcvcm91dGVPcGVyYXRlTWFwLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICB3YXRjaDogewogICAgJHJvdXRlKHRvKSB7CiAgICAgIGlmICghcm91dGVNYXBbdG8ubmFtZV0pIHsKICAgICAgICB0aGlzLmxpc3QgPSBbXQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLmxpc3QgPSByb3V0ZU1hcFt0by5uYW1lXTsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBvcHM6IHsKICAgICAgICB2dWVzY3JvbGw6IHt9LAogICAgICAgIHNjcm9sbFBhbmVsOiB7fSwKICAgICAgICByYWlsOiB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAiIzAxYTk5YSIsCiAgICAgICAgICBvcGFjaXR5OiAwLAogICAgICAgICAgc2l6ZTogIjZweCIsCiAgICAgICAgICBzcGVjaWZ5Qm9yZGVyUmFkaXVzOiBmYWxzZSwKICAgICAgICAgIGd1dHRlck9mRW5kczogbnVsbCwKICAgICAgICAgIGd1dHRlck9mU2lkZTogIjJweCIsCiAgICAgICAgICBrZWVwU2hvdzogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICBiYXI6IHsKICAgICAgICAgIHNob3dEZWxheTogNTAwLAogICAgICAgICAgb25seVNob3dCYXJPblNjcm9sbDogdHJ1ZSwKICAgICAgICAgIGtlZXBTaG93OiBmYWxzZSwKICAgICAgICAgIGJhY2tncm91bmQ6ICJjeWFuIiwKICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICBob3ZlclN0eWxlOiBmYWxzZSwKICAgICAgICAgIHNwZWNpZnlCb3JkZXJSYWRpdXM6IGZhbHNlLAogICAgICAgICAgbWluU2l6ZTogMCwKICAgICAgICAgIHNpemU6ICI2cHgiLAogICAgICAgICAgZGlzYWJsZTogZmFsc2UsCiAgICAgICAgfSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRMb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVTY3JvbGw6IHRocm90dGxlKGFzeW5jIGZ1bmN0aW9uICgKICAgICAgdmVydGljYWwsCiAgICAgIGhvcml6b250YWwsCiAgICAgIG5hdGl2ZUV2ZW50CiAgICApIHsKICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgc2ggPSB2ZXJ0aWNhbC5zY3JvbGxUb3A7CiAgICAgIGxldCB2aCA9IG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICBsZXQgYWxsSCA9IG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQuc2Nyb2xsSGVpZ2h0OwogICAgICB0aGlzLnNjcm9sbFRvcCA9IHNoOwogICAgICBpZiAodmggKyBzaCArIDIwMCA+IGFsbEgpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKCLliqDovb3mlrBhcnRpY2xlcyBIb21lIik7CiAgICAgIH0KICAgIH0sCiAgICA1MDApLAogIH0sCiAgcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNldExvYWRpbmc6IHRoaXMuc2V0TG9hZGluZywKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNVc2VyRXhpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbjsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAvLyAgIHdpbmRvdy5MMkR3aWRnZXQuaW5pdCh7CiAgICAvLyAgICAgcGx1Z2luUm9vdFBhdGg6ICJzdGF0aWMvbGl2ZTJkdy8iLAogICAgLy8gICAgIHBsdWdpbkpzUGF0aDogImxpYi8iLAogICAgLy8gICAgIHBsdWdpbk1vZGVsUGF0aDogImxpdmUyZC13aWRnZXQtbW9kZWwtejE2L2Fzc2V0cy8iLAogICAgLy8gICAgIHRhZ01vZGU6IGZhbHNlLAogICAgLy8gICAgIGRlYnVnOiBmYWxzZSwKICAgIC8vICAgICBtb2RlbDogewogICAgLy8gICAgICAganNvblBhdGg6ICIuLi9zdGF0aWMvbGl2ZTJkdy9saXZlMmQtd2lkZ2V0LW1vZGVsLXoxNi9hc3NldHMvejE2Lm1vZGVsLmpzb24iCiAgICAvLyAgICAgfSwKICAgIC8vICAgICBkaXNwbGF5OiB7CiAgICAvLyAgICAgICBwb3NpdGlvbjogInJpZ2h0IiwKICAgIC8vICAgICAgIHdpZHRoOiAzMDAsCiAgICAvLyAgICAgICBoZWlnaHQ6IDQ1MAogICAgLy8gICAgIH0KICAgIC8vICAgfSkKICAgIC8vIH0sMTAwMCkKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygiaG9tZSB4YXVucmFuISEiKTsKICAgIC8vCiAgICBpZiAoc3RvcmUuZ2V0KFRPS0VOX05BTUUpKSB7CiAgICAgIHRoaXMuJGh0dHAoeyB0eXBlOiAiaW5kZXgiIH0pCiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LCAicmVzdWx0MjIyIik7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0VXNlciIsIHsKICAgICAgICAgICAgLi4ucmVzdWx0LmRhdGEuZGF0YSwKICAgICAgICAgICAgYXJ0aWNsZU51bTogcmVzdWx0LmFydGljbGVOdW0sCiAgICAgICAgICAgIGNsYXNzaWZ5TnVtOiByZXN1bHQuY2xhc3NpZnlOdW0sCiAgICAgICAgICB9KTsKICAgICAgICAgIGxldCBzb2NrZXRVc2VyID0gaW8ocHJvY2Vzcy5lbnZbIlZVRV9BUFBfU09DS0VUX1VSTCJdLCB7CiAgICAgICAgICAgIHRyYW5zcG9ydHM6IFsid2Vic29ja2V0Il0sCiAgICAgICAgICB9KTsKICAgICAgICAgIHNvY2tldFVzZXIub24oImNvbm5lY3QiLCAoKSA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNvY2tldFVzZXIudGVzdE5hbWUsInRlc3QiKTsKICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kc29ja2V0ID0gc29ja2V0VXNlcjsKICAgICAgICAgICAgY29uc29sZS5sb2coVnVlLnByb3RvdHlwZS4kc29ja2V0LCAieHh4IHZ1ZSBzb2NrZXQiKTsKICAgICAgICAgICAgVnVlLnByb3RvdHlwZS4kb3duID0gZmFsc2U7CiAgICAgICAgICAgIHNvY2tldFVzZXIuZW1pdCgibG9naW5Vc2VyIiwgewogICAgICAgICAgICAgIG5pY2tuYW1lOiByZXN1bHQuZGF0YS5kYXRhLm5pY2tuYW1lLAogICAgICAgICAgICAgIHVpZDogcmVzdWx0LmRhdGEuZGF0YVsiX2lkIl0sCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzb2NrZXRVc2VyLm9uKCJkaXNjb25uZWN0IiwgKCkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmuIXnqboiLCAicXVpdHR0dHR0dHR0dHR0dHQiKTsKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoImNsZWFyQ2hhdFNvY2tldCIpOwogICAgICAgICAgICAgIGlmIChWdWUucHJvdG90eXBlLiRvd24pIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjbGVhclVzZXIiLCB7IHR5cGU6IDEgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjbGVhclVzZXIiLCB7IHR5cGU6IDAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgICAgIC8vIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgLy8gICB0aXRsZTogIumAmuefpSIsCiAgICAgICAgICAgICAgLy8gICBtZXNzYWdlOiLlhbblroPorr7lpIflt7LnmbvlvZUiLAogICAgICAgICAgICAgIC8vICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICB9CiAgICAvLwogICAgbGV0IGlzTW9iID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgKICAgICAgLyhBbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXx3ZWJPU3xXaW5kb3dzIFBob25lfFN5bWJpYW5PU3xJRU1vYmlsZXxPcGVyYSBNaW5pfE1vYmlsZSkvCiAgICApOwoKICAgIGNvbnNvbGUubG9nKGlzTW9iLCAiTW9iIik7CiAgICBpZiAoaXNNb2IpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9tIik7CiAgICB9CiAgICAvLyB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgLy8gICBjb25zb2xlLmxvZygi5Yqg6L29IG9ubG9hZCIpOwogICAgLy8gfQogICAgLy8gaWYgKHN0b3JlLmdldChUT0tFTl9OQU1FKSkgewogICAgLy8gICB0aGlzLiRodHRwKHsgdHlwZTogImluZGV4IiB9KQogICAgLy8gICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCwgInJlc3VsdDIyMiIpOwogICAgLy8gICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFVzZXIiLCB7CiAgICAvLyAgICAgICAgIC4uLnJlc3VsdC5kYXRhLmRhdGEsCiAgICAvLyAgICAgICAgIGFydGljbGVOdW06IHJlc3VsdC5hcnRpY2xlTnVtLAogICAgLy8gICAgICAgICBjbGFzc2lmeU51bTogcmVzdWx0LmNsYXNzaWZ5TnVtLAogICAgLy8gICAgICAgfSk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGVycikgPT4gewogICAgLy8gICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIC8vICAgICB9KTsKICAgIC8vIH0KICAgIC8vCiAgICBjb25zb2xlLmxvZygiSE9NRSDmuLLmn5PkuoYiKTsKICAgIGlmIChyb3V0ZU1hcFt0aGlzLiRyb3V0ZS5uYW1lXSkgewogICAgICB0aGlzLmxpc3QgPSByb3V0ZU1hcFt0aGlzLiRyb3V0ZS5uYW1lXTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsLAogICAgSGVhZGVyLAogICAgQXNpZGUsCiAgICB2dWVzY3JvbGwsCiAgICBPcGVyYXRlQmFyLAogICAgTGl2ZTJkLAogIH0sCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<!--\n * @Descripttion: \n * @version: \n * @Author: sueRimn\n * @Date: 2023-03-15 15:37:19\n * @LastEditors: sueRimn\n * @LastEditTime: 2023-04-09 17:49:25\n-->\n<!--\n * @Descripttion: \n * @version: \n * @Author: sueRimn\n * @Date: 2023-03-15 15:37:19\n * @LastEditors: sueRimn\n * @LastEditTime: 2023-03-17 21:43:55\n-->\n<template>\n  <div class=\"blog-page\">\n    <el-container class=\"blog-wrap\">\n      <el-header height=\"10vh\" class=\"blog-header\">\n        <Header />\n      </el-header>\n      <el-container class=\"blog-content-wrap\">\n        <div class=\"limit\">\n          <el-row :gutter=\"6\">\n            <el-col :span=\"2\" class=\"hidden-xs-only\">\n              <!-- <transition-group appear enter-active-class=\"animate__animated animate__swing\" leave-active-class=\"animate__animated animate__backOutDown\" mode=\"out-in\" move-class=\"move\"> -->\n              <transition-group appear name=\"operate\" mode=\"out-in\">\n                <OperateBar\n                  v-for=\"item in list\"\n                  :key=\"item.icon\"\n                  :info=\"item\"\n                />\n              </transition-group>\n            </el-col>\n            <el-col :span=\"22\" :md=\"{ span: 16 }\">\n              <el-main class=\"blog-content--main\">\n                <vuescroll\n                  :ops=\"ops\"\n                  @handle-scroll=\"handleScroll\"\n                  ref=\"scroll\"\n                >\n                  <!-- <keep-alive include=\"ArticleList\"> -->\n                  <transition appear enter-active-class=\"animate__animated animate__fadeInDown\" leave-active-class=\"animate__animated animate__fadeOutDown\" mode=\"out-in\">\n                    <router-view :loading=\"loading\"></router-view>\n                  </transition>\n                  <!-- </keep-alive> -->\n                </vuescroll>\n              </el-main>\n            </el-col>\n            <el-col :span=\"6\" class=\"hidden-md-and-down\">\n              <el-aside class=\"blog-content--aside\">\n                <Aside v-if=\"isUserExist\" />\n              </el-aside>\n            </el-col>\n          </el-row>\n        </div>\n      </el-container>\n      <el-footer height=\"10vh\" class=\"blog-footer\">底部</el-footer>\n    </el-container>\n    <Modal />\n    <Live2d />\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport router from \"@/router/index\";\nimport { io } from \"socket.io-client\";\nimport b from \"@/config/http.config\";\nimport store from \"store\";\nlet { TOKEN_NAME } = b;\n// @ is an alias to /src\n// import b from \"@/config/http.config\";\n// import store from \"store\";\nimport OperateBar from \"@/components/article/OperateBar.vue\";\n// let { TOKEN_NAME } = b;\nimport Modal from \"./Modal.vue\";\nimport Live2d from \"./Live2D.vue\";\nimport Header from \"@/components/header/Header.vue\";\nimport Aside from \"@/components/aside/AsideUserInfo\";\nimport {throttle} from \"lodash\";\nimport vuescroll from \"vuescroll\";\nimport routeMap from \"@/config/routeOperateMap.js\";\nexport default {\n  name: \"Home\",\n  watch: {\n    $route(to) {\n      if (!routeMap[to.name]) {\n        this.list = []\n        return false;\n      }\n      this.list = routeMap[to.name];\n    },\n  },\n  data() {\n    return {\n      list: [],\n      loading: false,\n      ops: {\n        vuescroll: {},\n        scrollPanel: {},\n        rail: {\n          background: \"#01a99a\",\n          opacity: 0,\n          size: \"6px\",\n          specifyBorderRadius: false,\n          gutterOfEnds: null,\n          gutterOfSide: \"2px\",\n          keepShow: false,\n        },\n        bar: {\n          showDelay: 500,\n          onlyShowBarOnScroll: true,\n          keepShow: false,\n          background: \"cyan\",\n          opacity: 1,\n          hoverStyle: false,\n          specifyBorderRadius: false,\n          minSize: 0,\n          size: \"6px\",\n          disable: false,\n        },\n      },\n    };\n  },\n  methods: {\n    setLoading() {\n      this.loading = false;\n    },\n    handleScroll: throttle(async function (\n      vertical,\n      horizontal,\n      nativeEvent\n    ) {\n      if (this.loading) {\n        return;\n      }\n      let sh = vertical.scrollTop;\n      let vh = nativeEvent.srcElement.clientHeight;\n      let allH = nativeEvent.srcElement.scrollHeight;\n      this.scrollTop = sh;\n      if (vh + sh + 200 > allH) {\n        this.loading = true;\n        console.log(\"加载新articles Home\");\n      }\n    },\n    500),\n  },\n  provide() {\n    return {\n      setLoading: this.setLoading,\n    };\n  },\n  computed: {\n    isUserExist() {\n      return this.$store.state.token;\n    },\n  },\n  created() {\n    // setTimeout(function () {\n    //   window.L2Dwidget.init({\n    //     pluginRootPath: \"static/live2dw/\",\n    //     pluginJsPath: \"lib/\",\n    //     pluginModelPath: \"live2d-widget-model-z16/assets/\",\n    //     tagMode: false,\n    //     debug: false,\n    //     model: {\n    //       jsonPath: \"../static/live2dw/live2d-widget-model-z16/assets/z16.model.json\"\n    //     },\n    //     display: {\n    //       position: \"right\",\n    //       width: 300,\n    //       height: 450\n    //     }\n    //   })\n    // },1000)\n  },\n  mounted() {\n    console.log(\"home xaunran!!\");\n    //\n    if (store.get(TOKEN_NAME)) {\n      this.$http({ type: \"index\" })\n        .then((result) => {\n          console.log(result, \"result222\");\n          this.$store.dispatch(\"setUser\", {\n            ...result.data.data,\n            articleNum: result.articleNum,\n            classifyNum: result.classifyNum,\n          });\n          let socketUser = io(process.env[\"VUE_APP_SOCKET_URL\"], {\n            transports: [\"websocket\"],\n          });\n          socketUser.on(\"connect\", () => {\n            // console.log(socketUser.testName,\"test\");\n            Vue.prototype.$socket = socketUser;\n            console.log(Vue.prototype.$socket, \"xxx vue socket\");\n            Vue.prototype.$own = false;\n            socketUser.emit(\"loginUser\", {\n              nickname: result.data.data.nickname,\n              uid: result.data.data[\"_id\"],\n            });\n            socketUser.on(\"disconnect\", () => {\n              console.log(\"清空\", \"quitttttttttttttt\");\n              this.$bus.$emit(\"clearChatSocket\");\n              if (Vue.prototype.$own) {\n                this.$store.dispatch(\"clearUser\", { type: 1 });\n              } else {\n                this.$store.dispatch(\"clearUser\", { type: 0 });\n              }\n\n              router.push(\"/\");\n              // this.$notify({\n              //   title: \"通知\",\n              //   message:\"其它设备已登录\",\n              //   type: \"warning\",\n              // });\n            });\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    //\n    let isMob = navigator.userAgent.match(\n      /(Android|iPhone|iPad|iPod|BlackBerry|webOS|Windows Phone|SymbianOS|IEMobile|Opera Mini|Mobile)/\n    );\n\n    console.log(isMob, \"Mob\");\n    if (isMob) {\n      this.$router.push(\"/m\");\n    }\n    // window.onload = function () {\n    //   console.log(\"加载 onload\");\n    // }\n    // if (store.get(TOKEN_NAME)) {\n    //   this.$http({ type: \"index\" })\n    //     .then((result) => {\n    //       console.log(result, \"result222\");\n    //       this.$store.dispatch(\"setUser\", {\n    //         ...result.data.data,\n    //         articleNum: result.articleNum,\n    //         classifyNum: result.classifyNum,\n    //       });\n    //     })\n    //     .catch((err) => {\n    //       console.log(err);\n    //     });\n    // }\n    //\n    console.log(\"HOME 渲染了\");\n    if (routeMap[this.$route.name]) {\n      this.list = routeMap[this.$route.name];\n    }\n  },\n  components: {\n    Modal,\n    Header,\n    Aside,\n    vuescroll,\n    OperateBar,\n    Live2d,\n  },\n};\n</script>\n<style lang=\"stylus\">\n@import '~@/assets/css/variable.styl';\n\n.operate-enter {\n  transform: translateY(1100px);\n}\n\n.operate-enter-active, .operate-leave-active {\n  transition: 0.5s;\n}\n\n.operate-leave-to {\n  transform: translateY(-400px);\n}\n\n.blog-content-wrap {\n  height: 80vh;\n  width: 100%;\n  margin: 0 auto;\n  background-color: page-main-color;\n\n  & .el-row {\n    width: 100%;\n  }\n\n  & .limit {\n    width: 70%;\n    // min-width: 1400px;\n    margin: 0 auto;\n  }\n}\n\n.blog-content--main {\n  margin-top: 80px;\n  height: 60vh;\n}\n\n.blog-footer {\n  background-color: #222;\n}\n\n.blog-header {\n  background-color: #999;\n  padding: 0;\n}\n\n.blog-header--row {\n  height: 100%;\n  align-items: center;\n}\n\n.blog-page .blog-content-wrap .blog-content--aside {\n  margin: 100px auto;\n  width: 80% !important;\n}\n\n.el-main.blog-content--main {\n  overflow: hidden;\n}\n\n.move {\n  transition: 0.5s;\n}\n</style>\n"]}]}