<!--
 * @Descripttion: 
 * @version: 
 * @Author: sueRimn
 * @Date: 2022-12-06 16:37:22
 * @LastEditors: sueRimn
 * @LastEditTime: 2022-12-06 16:37:49
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>homework</title>
</head>

<body>
  <script>
    var data = (function () {
      var arr = [5, 9, 2, 77, 91];
      return {
        set(idx, value) {
          arr[idx] = value;
        },
        get(idx) {
          return arr[idx];
        },
        getAll() {
          return arr;
        }
      }
    })();
    var methods = (function () {
      return {
        reduce(arr, acc, callback) {
          var sum = acc || arr[0];
          for (let i = acc ? 0 : 1; i < arr.length; i++) {
            sum = callback(sum, arr[i]);
          }
          return sum;
        },
        map(arr, callback) {
          var newArr = [];
          for (let i = 0; i < arr.length; i++) {
            newArr.push(callback(arr[i]));
          }
          return newArr;
        }
      }
    })();
    var all = (function () {
      var datas = data;
      //let data = data;
      var method = methods;
      //let methods = methods;
      console.log(method.map(datas.getAll(), function (num) {
        return num * 2;
      }));
      console.log(method.reduce(datas.getAll(), 5, function (a, b) {
        return a + b;
      }));
    })();

  </script>
</body>

</html>