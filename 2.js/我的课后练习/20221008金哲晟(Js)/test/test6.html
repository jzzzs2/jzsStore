<!--
 * @Descripttion: 
 * @version: 
 * @Author: sueRimn
 * @Date: 2022-10-08 20:34:24
 * @LastEditors: sueRimn
 * @LastEditTime: 2022-10-08 21:20:17
-->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lastIndex陷阱</title>
</head>
<body>
  <script>
    var arr = [
      'a.jpg',
      'b.jpg',
      'c.jpg',
      'd.jpg'
    ];

    // var str = "你好么么你好好你吃了么";
    // var index = 0;
    // while (str.indexOf("你",index) !== -1) {
    //   // console.log(str.indexOf("你",index));
    //   index = str.indexOf("你",index) + 1;
    // }
    // var reg = /\w{1}\.jpg/;
    var reg = /\w{1}\.jpg/g;
    for (var i in arr) {
      // console.log(reg.lastIndex);
      // console.log(reg.test(arr[i]));
      console.log(arr[i].replace(reg, "22"),reg.lastIndex);
    }
  </script>
</body>
</html>