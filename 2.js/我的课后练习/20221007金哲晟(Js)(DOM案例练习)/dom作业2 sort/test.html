<!--
 * @Descripttion: 
 * @version: 
 * @Author: sueRimn
 * @Date: 2022-10-07 13:17:41
 * @LastEditors: sueRimn
 * @LastEditTime: 2022-10-07 15:46:01
-->
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sort</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .wrap {
      padding: 10px;
      border: 1px solid #999;
    }

    .box {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      align-content: space-around;
      position: relative;
      width: 1100px;
      height: 500px;
    }

    .item {
      width: 170px;
      height: 200px;
      padding: 10px;
      margin: 10px;
      border: 1px solid #999;
      text-align: center;

    }

    img {
      width: 170px;
      height: 150px;
    }

    .item p:nth-of-type(1) {
      padding-top: 10px;
      color: #000;
      font-size: 14px;
      text-align: left;
    }

    .item p:nth-of-type(2) {
      padding-top: 4px;
      color: red;
      font-size: 14px;
      font-weight: 600;
      text-align: right;
    }

    .wrap>p {
      margin-top: 10px;
      text-align: right;
    }

    .wrap>p span {
      display: inline-block;
      padding: 10px;
      margin-right: 10px;
      border: 1px solid #999;
      border-radius: 10px;
      background-color: pink;
      cursor: pointer;
    }

    .wrap>p span:hover {
      background-color: cyan;
      color: #fff;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="box">
      <div class="item">
        <img src="./images/1.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>51.2</span>$</p>
      </div>
      <div class="item">
        <img src="./images/2.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>111.2</span>$</p>
      </div>
      <div class="item">
        <img src="./images/3.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>43.1</span>$</p>
      </div>
      <div class="item">
        <img src="./images/4.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>58.5</span>$</p>
      </div>
      <div class="item">
        <img src="./images/5.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>39.4</span>$</p>
      </div>
      <div class="item">
        <img src="./images/6.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>72.4</span>$</p>
      </div>
      <div class="item">
        <img src="./images/7.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>91.6</span>$</p>
      </div>
      <div class="item">
        <img src="./images/8.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>5.2</span>$</p>
      </div>
      <div class="item">
        <img src="./images/9.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>5.2</span>$</p>
      </div>
      <div class="item">
        <img src="./images/10.jpg" alt="miku">
        <p>卡通人物miku系列</p>
        <p><span>5.2</span>$</p>
      </div>
    </div>
    <p><span class="rand">随机</span><span class="up">价格从小到大</span><span class="down">价格从大到小</span></p>
  </div>
  <script>
    var rBtn = document.querySelector(".rand");
    var uBtn = document.querySelector(".up");
    var dBtn = document.querySelector(".down");
    var aItem = document.querySelectorAll(".item");
    var positionArr = [];
    var vDom = [];
    function initPosition() {
      for (var i = 0; i < aItem.length; i++) {
        var posObj = {};
        posObj.left = aItem[i].offsetLeft;
        posObj.top = aItem[i].offsetTop;
        positionArr.push(posObj);
      }
      for (var i = 0; i < aItem.length; i++) {
        aItem[i].style.position = "absolute";
        aItem[i].style.left = positionArr[i].left + "px";
        aItem[i].style.top = positionArr[i].top + "px";
      }
      for (var i = 0; i < aItem.length; i++) {
        vDom.push(aItem[i]);
      }
    }
    initPosition();

    rBtn.addEventListener("click", function (e) {
      getRandOrder();
    })
    uBtn.addEventListener("click", function (e) {
      getUpOrder(vDom);
      translate(vDom);
    })
    dBtn.addEventListener("click", function (e) {
      getDownOrder(vDom);
      translate(vDom);
    })

    function getUpOrder(arr) {
      var len = arr.length;
      for (var i = 0; i < len; i++) {
        for (var j = 0; j < len - 1 - i; j++) {
          if (Number(getPrice(arr[j])) > Number(getPrice(arr[j + 1]))) {
            var temp = arr[j];
            arr[j] = arr[j + 1];
            arr[j + 1] = temp;
          }
        }
      }
      vDom = arr;
      return arr;
    }

    function getDownOrder(arr) {
      var len = arr.length;
      for (var i = 0; i < len; i++) {
        for (var j = 0; j < len - 1 - i; j++) {
          if (Number(getPrice(arr[j])) < Number(getPrice(arr[j + 1]))) {
            var temp = arr[j];
            arr[j] = arr[j + 1];
            arr[j + 1] = temp;
          }
        }
      }
      vDom = arr;
      return arr;
    }

    function getPrice(ele) {
      return ele.children[2].children[0].innerText;
    }

    function translate(vDom) {
      for (var i = 0; i < vDom.length; i++) {
        vDom[i].style.left = positionArr[i].left + "px";
        vDom[i].style.top = positionArr[i].top + "px";
      }
    }

    function getRandOrder () {
      var posObjs = positionArr.slice();
      var len = vDom.length;
      var arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
      for (var i = 0; i < len; i++) {
        var index = Math.floor(Math.random() * (len - i));
        vDom[i].style.left = posObjs[arr[index]].left + "px";
        vDom[i].style.top = posObjs[arr[index]].top + "px";
        arr.splice(index,1);
      }
    }
  </script>
</body>

</html>