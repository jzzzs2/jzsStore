<!--
 * @Descripttion: 
 * @version: 
 * @Author: sueRimn
 * @Date: 2022-09-15 16:29:43
 * @LastEditors: sueRimn
 * @LastEditTime: 2022-09-15 16:37:34
-->
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数据处理</title>
</head>

<body>
  <script>
    /*
      从某数据库接口得到如下值：
      {
        rows: [
          ["Lisa", 16, "Female", "2000-12-01"],
          ["Bob", 22, "Male", "1996-01-21"]
        ],
          metaData: [
            { name: "name", note: '' },
            { name: "age", note: '' },
            { name: "gender", note: '' },
            { name: "birthday", note: '' }
          ]
      }
  
  
      rows是数据，metaData是对数据的说明。现写一个函数parseData，将上面的对象转化为期望的数组：
  
        [
          { name: "Lisa", age: 16, gender: "Female", birthday: "2000-12-01" },
          { name: "Bob", age: 22, gender: "Male", birthday: "1996-01-21" },
        ]
       */


    var data = {
      rows: [
        ["Lisa", 16, "Female", "2000-12-01"],
        ["Bob", 22, "Male", "1996-01-21"]
      ],
      metaData: [
        { name: "name", note: '' },
        { name: "age", note: '' },
        { name: "gender", note: '' },
        { name: "birthday", note: '' }
      ]
    }
    
    function parseData (rows, meta) {
      var newArr = [];
      rows.forEach( function (curr, i, arr) {
        var obj = curr.reduce( function (acc, curr, i, arr) {
          acc[meta[i].name] = curr;
          return acc;
        }, {})
        newArr.push(obj);
      })
      return newArr;
    }
    console.log(parseData(data.rows, data.metaData));
  </script>
</body>

</html>